<!DOCTYPE project>
<project basedir="." default="less" name="lesscss">
	<property name="dir.less" value="${basedir}/WebContent/less" />
	<property name="lessc" value="/usr/local/bin/lessc" />
	<property name="dir.css" value="${basedir}/WebContent/styles"/>

	<target description="Compile LESS files" name="less">
		<antcall target="lessfile">
			<param name="files" value="*" />
		</antcall>
	</target>

	<target name="lessfile">
		<apply executable="${lessc}">
			<fileset dir="${dir.less}" includes="${files}.less">
				<redirector>
					<outputmapper from="${files}.less" id="out" to="${dir.css}/${files}.css" type="glob" />
				</redirector>
			</fileset>
		</apply>
	</target>
</project>